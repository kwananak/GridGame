[gd_scene load_steps=12 format=3 uid="uid://csnkvbdfitkti"]

[ext_resource type="PackedScene" uid="uid://dhqr3k2csmslo" path="res://Scenes/Prefabs/level_manager.tscn" id="1_g16cn"]
[ext_resource type="PackedScene" uid="uid://cvjovpe2p6kot" path="res://Scenes/Prefabs/firewall.tscn" id="2_5c0d4"]
[ext_resource type="PackedScene" uid="uid://f6ans0klrpqi" path="res://Scenes/ui.tscn" id="2_fufk3"]
[ext_resource type="PackedScene" uid="uid://b1a5i0fukoe5k" path="res://Scenes/Tiles/end_tile.tscn" id="3_imbq2"]
[ext_resource type="PackedScene" uid="uid://bjmgb6nib47p2" path="res://Scenes/Prefabs/player.tscn" id="3_thwdk"]
[ext_resource type="PackedScene" uid="uid://cucuq7j1dctnn" path="res://Scenes/Tiles/start_tile.tscn" id="5_h5lbe"]
[ext_resource type="PackedScene" uid="uid://c1rxtknyx8nnt" path="res://Scenes/Prefabs/path_enemy.tscn" id="5_y0334"]
[ext_resource type="PackedScene" uid="uid://cu0crjnnu6k86" path="res://Scenes/Tiles/freeze_tile.tscn" id="7_qgyln"]
[ext_resource type="PackedScene" uid="uid://cikyqgvo7hc8p" path="res://Scenes/Tiles/key_tile.tscn" id="8_fppc4"]
[ext_resource type="Script" path="res://Scripts/key_tile.gd" id="9_mxy0c"]
[ext_resource type="PackedScene" uid="uid://ci85kh4ijtmqe" path="res://Scenes/Tiles/door_tile.tscn" id="10_v1kqi"]

[node name="TestLevel" type="Node2D"]

[node name="LevelManager" parent="." node_paths=PackedStringArray("end_turn_calls") instance=ExtResource("1_g16cn")]
end_turn_calls = [NodePath("../Firewall"), NodePath("../Trials/PathEnemy1/PathEnemy")]

[node name="UI" parent="." instance=ExtResource("2_fufk3")]

[node name="Environment" type="Node" parent="."]

[node name="Floor" type="Node" parent="Environment"]

[node name="StartTile" parent="Environment/Floor" instance=ExtResource("5_h5lbe")]
position = Vector2(128, 192)

[node name="EndTile" parent="Environment/Floor" instance=ExtResource("3_imbq2")]

[node name="Walls" type="Node" parent="Environment"]

[node name="Trials" type="Node" parent="."]

[node name="PathEnemy1" type="Node" parent="Trials"]

[node name="PathEnemy" parent="Trials/PathEnemy1" node_paths=PackedStringArray("path_nodes") instance=ExtResource("5_y0334")]
position = Vector2(352, 160)
path_nodes = [NodePath("../PathNode1"), NodePath("../PathNode2"), NodePath("../PathNode3"), NodePath("../PathNode2")]

[node name="PathNode1" type="Node2D" parent="Trials/PathEnemy1"]
position = Vector2(256, 160)

[node name="PathNode2" type="Node2D" parent="Trials/PathEnemy1"]
position = Vector2(256, 64)

[node name="PathNode3" type="Node2D" parent="Trials/PathEnemy1"]
position = Vector2(352, 64)

[node name="SeekerEnemy1" type="Node" parent="Trials"]

[node name="FreezeTile1" type="Node" parent="Trials"]

[node name="FreezeTile" parent="Trials/FreezeTile1" instance=ExtResource("7_qgyln")]
position = Vector2(128, 128)

[node name="FreezeTile2" type="Node" parent="Trials"]

[node name="FreezeTile" parent="Trials/FreezeTile2" instance=ExtResource("7_qgyln")]
position = Vector2(320, 192)

[node name="KeyTile1" type="Node" parent="Trials"]

[node name="KeyTile" parent="Trials/KeyTile1" instance=ExtResource("8_fppc4")]
position = Vector2(192, 160)
script = ExtResource("9_mxy0c")

[node name="KeyTile2" type="Node" parent="Trials"]

[node name="KeyTile" parent="Trials/KeyTile2" instance=ExtResource("8_fppc4")]
position = Vector2(192, 64)
script = ExtResource("9_mxy0c")
key_type = Color(1, 0, 0, 1)

[node name="KeyTile3" type="Node" parent="Trials"]

[node name="KeyTile" parent="Trials/KeyTile3" instance=ExtResource("8_fppc4")]
position = Vector2(384, 96)
script = ExtResource("9_mxy0c")

[node name="DoorTile1" type="Node" parent="Trials"]

[node name="DoorTile" parent="Trials/DoorTile1" instance=ExtResource("10_v1kqi")]
position = Vector2(448, 160)
key_type = Color(1, 0, 0, 1)

[node name="DoorTile2" type="Node" parent="Trials"]

[node name="DoorTile" parent="Trials/DoorTile2" instance=ExtResource("10_v1kqi")]
position = Vector2(288, 128)
keys_needed = 2

[node name="Firewall" parent="." instance=ExtResource("2_5c0d4")]

[node name="Player" parent="." instance=ExtResource("3_thwdk")]
z_index = 1
position = Vector2(64, 64)

[connection signal="area_entered" from="Environment/Floor/EndTile" to="LevelManager" method="_on_end_tile_area_entered"]
