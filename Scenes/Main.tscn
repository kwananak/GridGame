[gd_scene load_steps=6 format=3 uid="uid://wn6bh748pp4d"]

[ext_resource type="Script" path="res://Scripts/main.gd" id="1_jkbf0"]
[ext_resource type="PackedScene" uid="uid://ctva5guewuuo1" path="res://Scenes/Prefabs/camera_2d.tscn" id="2_2bkea"]
[ext_resource type="Script" path="res://Scripts/mouse_tool_tip.gd" id="4_qjhqe"]
[ext_resource type="PackedScene" uid="uid://dtp464wsu5344" path="res://Scenes/Managers/progress_manager.tscn" id="5_uxdm6"]

[sub_resource type="CircleShape2D" id="CircleShape2D_jv1wl"]

[node name="Main" type="Node2D"]
script = ExtResource("1_jkbf0")

[node name="Camera2D" parent="." groups=["Camera"] instance=ExtResource("2_2bkea")]
position = Vector2(288, 160)
anchor_mode = 1
zoom = Vector2(2, 2.025)

[node name="Menu" type="Node2D" parent="."]

[node name="TitleLabel" type="RichTextLabel" parent="Menu"]
texture_filter = 1
offset_left = 256.0
offset_top = 32.0
offset_right = 320.0
offset_bottom = 88.0
text = "Grid Game"
fit_content = true

[node name="Level1Button" type="Button" parent="Menu"]
texture_filter = 1
offset_left = 352.0
offset_top = 32.0
offset_right = 464.0
offset_bottom = 80.0
focus_neighbor_left = NodePath("../RealTestLevelButton")
focus_neighbor_bottom = NodePath("../Level3Button")
text = "Level 1"

[node name="Level5Button" type="Button" parent="Menu"]
texture_filter = 1
offset_left = 354.0
offset_top = 222.0
offset_right = 466.0
offset_bottom = 270.0
focus_neighbor_left = NodePath("../QuitButton")
focus_neighbor_top = NodePath("../Level4Button")
text = "Level 5 (canon)"

[node name="Level4Button" type="Button" parent="Menu"]
texture_filter = 1
offset_left = 348.0
offset_top = 163.0
offset_right = 460.0
offset_bottom = 211.0
focus_neighbor_left = NodePath("../QuitButton")
focus_neighbor_top = NodePath("../Level3Button")
focus_neighbor_bottom = NodePath("../Level5Button")
text = "Level 4"

[node name="Level3Button" type="Button" parent="Menu"]
texture_filter = 1
offset_left = 346.0
offset_top = 96.0
offset_right = 458.0
offset_bottom = 144.0
focus_neighbor_left = NodePath("../VirtualTestLevelButton")
focus_neighbor_top = NodePath("../Level1Button")
focus_neighbor_bottom = NodePath("../Level4Button")
text = "Level 3 (le meilleur level)"

[node name="VirtualTestLevelButton" type="Button" parent="Menu"]
texture_filter = 1
offset_left = 32.0
offset_top = 96.0
offset_right = 173.0
offset_bottom = 144.0
focus_neighbor_top = NodePath("../RealTestLevelButton")
focus_neighbor_right = NodePath("../Level3Button")
focus_neighbor_bottom = NodePath("../ResetProgress")
text = "Virtual Test Level"

[node name="RealTestLevelButton" type="Button" parent="Menu"]
texture_filter = 1
offset_left = 32.0
offset_top = 32.0
offset_right = 155.0
offset_bottom = 80.0
focus_neighbor_right = NodePath("../Level1Button")
focus_neighbor_bottom = NodePath("../VirtualTestLevelButton")
text = "Real Test Level"

[node name="QuitButton" type="Button" parent="Menu"]
texture_filter = 1
offset_left = 224.0
offset_top = 224.0
offset_right = 336.0
offset_bottom = 272.0
focus_neighbor_left = NodePath("../ResetProgress")
focus_neighbor_right = NodePath("../Level5Button")
text = "Quit"

[node name="ResetProgress" type="Button" parent="Menu"]
offset_left = 32.0
offset_top = 232.0
offset_right = 158.0
offset_bottom = 263.0
focus_neighbor_top = NodePath("../VirtualTestLevelButton")
focus_neighbor_right = NodePath("../QuitButton")
text = "Reset Progress"

[node name="ProgressManager" parent="." instance=ExtResource("5_uxdm6")]

[node name="MouseToolTip" type="Area2D" parent="." groups=["MouseToolTip"]]
z_index = 99
collision_layer = 0
collision_mask = 256
script = ExtResource("4_qjhqe")

[node name="CollisionShape2D" type="CollisionShape2D" parent="MouseToolTip"]
position = Vector2(0, 32)
scale = Vector2(0.01, 0.01)
shape = SubResource("CircleShape2D_jv1wl")

[node name="Label" type="Label" parent="MouseToolTip"]
z_index = 30
offset_right = 104.0
offset_bottom = 40.0
scale = Vector2(0.5, 0.5)

[connection signal="pressed" from="Menu/Level1Button" to="." method="call_level" binds= [1]]
[connection signal="pressed" from="Menu/Level5Button" to="." method="call_level" binds= [5]]
[connection signal="pressed" from="Menu/Level4Button" to="." method="call_level" binds= [4]]
[connection signal="pressed" from="Menu/Level3Button" to="." method="call_level" binds= [3]]
[connection signal="pressed" from="Menu/VirtualTestLevelButton" to="." method="call_test_level" binds= ["virtual"]]
[connection signal="pressed" from="Menu/RealTestLevelButton" to="." method="call_test_level" binds= ["real"]]
[connection signal="pressed" from="Menu/QuitButton" to="." method="call_quit"]
[connection signal="pressed" from="Menu/ResetProgress" to="ProgressManager" method="reset_programs"]
[connection signal="area_entered" from="MouseToolTip" to="MouseToolTip" method="_on_area_entered"]
[connection signal="area_exited" from="MouseToolTip" to="MouseToolTip" method="_on_area_exited"]
